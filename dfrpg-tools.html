<head>
  <title>dfrpg-tools</title>
  <script src="//use.typekit.net/vtb7ntd.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>
</head>

<body>
  <h1>DFRPG Tools</h1>

  <!-- {{> dfrpg_megastunt}} -->
  <!--{{> dfrpg_characters}}-->

  {{> dfrpg_npcs}}
</body>

<template name="dfrpg_megastunt">
  <div class="dfrpg-card dfrpg-megastunt">
    <h3>Reflex Armor</h3>
    <h4>Aspects:</h4>
    <ul class="aspects">
      <li><span class="label">Function:</span> High-Tech Battlesuit</li>
      <li><span class="label">Flaw:</span> Dr. Yumenoâ€™s Still Working Out the Bugs</li>
    </ul>
  </div>
</template>

<template name="dfrpg_aspect">
  <div class="dfrpg-card dfrpg-aspect">
    Everything is on fire!
  </div>
</template>

<template name="dfrpg_characters">
  {{#each characters}}
    <div class="dfrpg-card dfrpg-character">
    <h3 class="character-name">{{name}}</h3>
    <ul class="aspects strong">
    {{#each aspects}}
      <li>{{aspectname}}</li>
    {{/each}}
    </ul>
    </div>
  {{/each}}
</template>

<template name="dfrpg_npcs">
  {{#each characters}}
    <div class="dfrpg-card dfrpg-npc">
    <h3 class="character-name">{{name}}</h3>
        <div class="aspects highconcept"><strong>High Concept:</strong> {{highconcept}}</div>
        {{#if otheraspects}}<div class="aspects otheraspects"><strong>Other Aspects:</strong> {{otheraspects}}</div>{{/if}}
        <h4>Skills</h4>
            <ul class="skills">
                {{#each skills}}
                    <li><strong>{{skillname}}:</strong> {{skilldisplay rank}}</li>
                {{/each}}
                {{#if skillnotes}}
                    <li>{{> editableText collection="npcs" field="skillnotes"}}</li>
                {{/if}}
            </ul>
        {{#if stunts}}
            <h4>Stunts</h4>
            <ul class="stunts">
                {{#each stunts}}
                    <li><strong>{{stuntdisplay this}}:</strong> {{#markdown}}{{description}}{{/markdown}}</li>
                {{/each}}
            </ul>
        {{/if}}
        {{#if powers}}
            <h4>Powers</h4>
            <ul class="powers">
                {{#each powers}}
                    {{> dfrpg_power}}
                {{/each}}
            </ul>
        {{/if}}
    </div>
  {{/each}}
</template>

<template name="dfrpg_power">
    {{#with powerdata}}
    <li>
        <strong>{{> editableText context=.. collection="npcs" field="powername"}}</strong> [{{cost}}]
        {{#if extra}}{{extra}}{{/if}}
        {{#if quickref}}{{#markdown}}{{quickref}}{{/markdown}}{{/if}}
    </li>
    {{/with}}
</template>